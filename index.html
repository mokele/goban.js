<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Goban.js</title>
  <link href="goban.css" rel="stylesheet">
<style type="text/css">
body {
}
.goban {
}
#goban {
  display: block;
  position: absolute;
  margin: 1em auto;
}
#goban .goban {
  background: white;
}
</style>
</head>
<body>


  <div id="goban" style="position:relative;"> 
  </div>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript" src="goban.js"></script>

<script type="text/javascript">
var goban = new Goban({
  drawer: new Goban.drawer({showCoords: true}),
  geometry: Goban.geometry.square(19)
});
var tile = 'b';
goban.hoverPlaceAndFocus(
  'ghost', function() {
    return $('<img src="http://mokele.github.com/go-svg/Go_' + tile + '.svg" class="ghost"/>');
  },
  'stone', function() {
    return $('<img src="http://mokele.github.com/go-svg/Go_' + tile + '.svg" class="stone"/>');
  },
  'focused', function() {
    return $('<img src="http://mokele.github.com/go-svg/Go_placed' + tile + '.svg" class="focused"/>');
  },
  function(pointId) {
    tile = tile=='b'?'w':'b';
  }
);
$('#goban').append(goban.element);

$(function() {
  var fit = function() {
    var el = goban.element.parent();

    var width = $(window).width();
    var height = $(window).height();
    var min = Math.min(width, height);

    var pad = el.innerHeight() - el.outerHeight();
    var gobanHeight = min - pad - (el.offset().top*2) - 4;

    if(width - gobanHeight < 100) {
        gobanHeight = width - 100;
    }
    el.innerHeight(gobanHeight);
    el.innerWidth(gobanHeight);

    goban.fit();
  }
  $(window).ready(fit);
  $(window).resize(fit);
})
</script>

</body>
</html>
